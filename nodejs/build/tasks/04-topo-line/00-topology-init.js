'use strict';

var _modules = _interopRequireDefault(require("./../../modules"));

var _LibTopoLine = _interopRequireDefault(require("./LibTopoLine"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(async () => {
  const pg = await _modules.default.PgSQL.client('localhost');
  const topologyName = 'line_topo';
  const dumpTable = 'line_dump';
  const topoTable = 'line_topo';
  const schema = 'topo';
  const topology = new _LibTopoLine.default(topologyName, dumpTable, topoTable, schema);

  try {
    await topology.dropTopology(pg);
  } catch (e) {
    console.error(e.stack);
  }

  await topology.createTopology(pg);
  await topology.initTables(pg);
  await pg.release();
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YXNrcy8wNC10b3BvLWxpbmUvMDAtdG9wb2xvZ3ktaW5pdC5qcyJdLCJuYW1lcyI6WyJwZyIsIiQiLCJQZ1NRTCIsImNsaWVudCIsInRvcG9sb2d5TmFtZSIsImR1bXBUYWJsZSIsInRvcG9UYWJsZSIsInNjaGVtYSIsInRvcG9sb2d5IiwiTGliVG9wb0xpbmUiLCJkcm9wVG9wb2xvZ3kiLCJlIiwiY29uc29sZSIsImVycm9yIiwic3RhY2siLCJjcmVhdGVUb3BvbG9neSIsImluaXRUYWJsZXMiLCJyZWxlYXNlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFHQTs7QUFFQTs7OztBQUdBLENBQUMsWUFBWTtBQUNYLFFBQU1BLEVBQUUsR0FBRyxNQUFNQyxpQkFBRUMsS0FBRixDQUFRQyxNQUFSLENBQWUsV0FBZixDQUFqQjtBQUNBLFFBQU1DLFlBQVksR0FBRyxXQUFyQjtBQUNBLFFBQU1DLFNBQVMsR0FBRyxXQUFsQjtBQUNBLFFBQU1DLFNBQVMsR0FBRyxXQUFsQjtBQUNBLFFBQU1DLE1BQU0sR0FBRyxNQUFmO0FBQ0EsUUFBTUMsUUFBUSxHQUFHLElBQUlDLG9CQUFKLENBQWdCTCxZQUFoQixFQUE4QkMsU0FBOUIsRUFBeUNDLFNBQXpDLEVBQW9EQyxNQUFwRCxDQUFqQjs7QUFDQSxNQUFJO0FBQ0YsVUFBTUMsUUFBUSxDQUFDRSxZQUFULENBQXNCVixFQUF0QixDQUFOO0FBQ0QsR0FGRCxDQUVFLE9BQU9XLENBQVAsRUFBVTtBQUNWQyxJQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsQ0FBQyxDQUFDRyxLQUFoQjtBQUNEOztBQUNELFFBQU1OLFFBQVEsQ0FBQ08sY0FBVCxDQUF3QmYsRUFBeEIsQ0FBTjtBQUNBLFFBQU1RLFFBQVEsQ0FBQ1EsVUFBVCxDQUFvQmhCLEVBQXBCLENBQU47QUFDQSxRQUFNQSxFQUFFLENBQUNpQixPQUFILEVBQU47QUFDRCxDQWZEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5cbmltcG9ydCAkIGZyb20gJy4vLi4vLi4vbW9kdWxlcyc7XG5cbmltcG9ydCBMaWJUb3BvTGluZSBmcm9tICcuL0xpYlRvcG9MaW5lJztcblxuXG4oYXN5bmMgKCkgPT4ge1xuICBjb25zdCBwZyA9IGF3YWl0ICQuUGdTUUwuY2xpZW50KCdsb2NhbGhvc3QnKTtcbiAgY29uc3QgdG9wb2xvZ3lOYW1lID0gJ2xpbmVfdG9wbyc7XG4gIGNvbnN0IGR1bXBUYWJsZSA9ICdsaW5lX2R1bXAnO1xuICBjb25zdCB0b3BvVGFibGUgPSAnbGluZV90b3BvJztcbiAgY29uc3Qgc2NoZW1hID0gJ3RvcG8nO1xuICBjb25zdCB0b3BvbG9neSA9IG5ldyBMaWJUb3BvTGluZSh0b3BvbG9neU5hbWUsIGR1bXBUYWJsZSwgdG9wb1RhYmxlLCBzY2hlbWEpO1xuICB0cnkge1xuICAgIGF3YWl0IHRvcG9sb2d5LmRyb3BUb3BvbG9neShwZyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICB9XG4gIGF3YWl0IHRvcG9sb2d5LmNyZWF0ZVRvcG9sb2d5KHBnKTtcbiAgYXdhaXQgdG9wb2xvZ3kuaW5pdFRhYmxlcyhwZyk7XG4gIGF3YWl0IHBnLnJlbGVhc2UoKTtcbn0pKCk7Il19