'use strict';

var _modules = _interopRequireDefault(require("./../../modules"));

var _LibTopology = _interopRequireDefault(require("./LibTopology"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(async () => {
  const pg = await _modules.default.PgSQL.pool('localhost');
  const topologyName = 'line_topo';
  const topology = new _LibTopology.default(topologyName);
  const theId = 900007; // 972

  await _modules.default.Utils.call(`外国 海岸边界线`, async () => {
    const list = await _LibTopology.default.getForeignList(pg);

    for await (const item of list) {
      const id = +item['id'];
      const name = item['name'];

      if (id === theId) {
        await _modules.default.Utils.call(`${name}#${id} 海岸边界线`, topology.edgeCoastline.bind(topology), [pg, id]);
      }
    }
  });
  await _modules.default.Utils.call(`中国 海岸边界线`, async () => {
    const id = 1;
    const name = '中国';
    await _modules.default.Utils.call(`${name}#${id} 海岸边界线`, topology.edgeCoastline.bind(topology), [pg, id]);
  });
  await pg.release();
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YXNrcy8wNC10b3BvLWxpbmUvMDUtZWRnZS1jb2FzdGxpbmUuanMiXSwibmFtZXMiOlsicGciLCIkIiwiUGdTUUwiLCJwb29sIiwidG9wb2xvZ3lOYW1lIiwidG9wb2xvZ3kiLCJMaWJUb3BvbG9neSIsInRoZUlkIiwiVXRpbHMiLCJjYWxsIiwibGlzdCIsImdldEZvcmVpZ25MaXN0IiwiaXRlbSIsImlkIiwibmFtZSIsImVkZ2VDb2FzdGxpbmUiLCJiaW5kIiwicmVsZWFzZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBR0E7O0FBRUE7Ozs7QUFHQSxDQUFDLFlBQVk7QUFDWCxRQUFNQSxFQUFFLEdBQUcsTUFBTUMsaUJBQUVDLEtBQUYsQ0FBUUMsSUFBUixDQUFhLFdBQWIsQ0FBakI7QUFDQSxRQUFNQyxZQUFZLEdBQUcsV0FBckI7QUFDQSxRQUFNQyxRQUFRLEdBQUcsSUFBSUMsb0JBQUosQ0FBZ0JGLFlBQWhCLENBQWpCO0FBRUEsUUFBTUcsS0FBSyxHQUFHLE1BQWQsQ0FMVyxDQUtXOztBQUV0QixRQUFNTixpQkFBRU8sS0FBRixDQUFRQyxJQUFSLENBQWMsVUFBZCxFQUF5QixZQUFZO0FBQ3pDLFVBQU1DLElBQUksR0FBRyxNQUFNSixxQkFBWUssY0FBWixDQUEyQlgsRUFBM0IsQ0FBbkI7O0FBQ0EsZUFBVyxNQUFNWSxJQUFqQixJQUF5QkYsSUFBekIsRUFBK0I7QUFDN0IsWUFBTUcsRUFBRSxHQUFHLENBQUNELElBQUksQ0FBQyxJQUFELENBQWhCO0FBQ0EsWUFBTUUsSUFBSSxHQUFHRixJQUFJLENBQUMsTUFBRCxDQUFqQjs7QUFDQSxVQUFJQyxFQUFFLEtBQUtOLEtBQVgsRUFBa0I7QUFDaEIsY0FBTU4saUJBQUVPLEtBQUYsQ0FBUUMsSUFBUixDQUFjLEdBQUVLLElBQUssSUFBR0QsRUFBRyxRQUEzQixFQUFvQ1IsUUFBUSxDQUFDVSxhQUFULENBQXVCQyxJQUF2QixDQUE0QlgsUUFBNUIsQ0FBcEMsRUFBMkUsQ0FBQ0wsRUFBRCxFQUFLYSxFQUFMLENBQTNFLENBQU47QUFDRDtBQUNGO0FBQ0YsR0FUSyxDQUFOO0FBV0EsUUFBTVosaUJBQUVPLEtBQUYsQ0FBUUMsSUFBUixDQUFjLFVBQWQsRUFBeUIsWUFBWTtBQUN6QyxVQUFNSSxFQUFFLEdBQUcsQ0FBWDtBQUNBLFVBQU1DLElBQUksR0FBRyxJQUFiO0FBQ0EsVUFBTWIsaUJBQUVPLEtBQUYsQ0FBUUMsSUFBUixDQUFjLEdBQUVLLElBQUssSUFBR0QsRUFBRyxRQUEzQixFQUFvQ1IsUUFBUSxDQUFDVSxhQUFULENBQXVCQyxJQUF2QixDQUE0QlgsUUFBNUIsQ0FBcEMsRUFBMkUsQ0FBQ0wsRUFBRCxFQUFLYSxFQUFMLENBQTNFLENBQU47QUFDRCxHQUpLLENBQU47QUFPQSxRQUFNYixFQUFFLENBQUNpQixPQUFILEVBQU47QUFDRCxDQTFCRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuXG5pbXBvcnQgJCBmcm9tICcuLy4uLy4uL21vZHVsZXMnO1xuXG5pbXBvcnQgTGliVG9wb2xvZ3kgZnJvbSAnLi9MaWJUb3BvbG9neSc7XG5cblxuKGFzeW5jICgpID0+IHtcbiAgY29uc3QgcGcgPSBhd2FpdCAkLlBnU1FMLnBvb2woJ2xvY2FsaG9zdCcpO1xuICBjb25zdCB0b3BvbG9neU5hbWUgPSAnbGluZV90b3BvJztcbiAgY29uc3QgdG9wb2xvZ3kgPSBuZXcgTGliVG9wb2xvZ3kodG9wb2xvZ3lOYW1lKTtcblxuICBjb25zdCB0aGVJZCA9IDkwMDAwNzsgLy8gOTcyXG5cbiAgYXdhaXQgJC5VdGlscy5jYWxsKGDlpJblm70g5rW35bK46L6555WM57q/YCwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGxpc3QgPSBhd2FpdCBMaWJUb3BvbG9neS5nZXRGb3JlaWduTGlzdChwZyk7XG4gICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIGxpc3QpIHtcbiAgICAgIGNvbnN0IGlkID0gK2l0ZW1bJ2lkJ107XG4gICAgICBjb25zdCBuYW1lID0gaXRlbVsnbmFtZSddO1xuICAgICAgaWYgKGlkID09PSB0aGVJZCkge1xuICAgICAgICBhd2FpdCAkLlV0aWxzLmNhbGwoYCR7bmFtZX0jJHtpZH0g5rW35bK46L6555WM57q/YCwgdG9wb2xvZ3kuZWRnZUNvYXN0bGluZS5iaW5kKHRvcG9sb2d5KSwgW3BnLCBpZF0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgYXdhaXQgJC5VdGlscy5jYWxsKGDkuK3lm70g5rW35bK46L6555WM57q/YCwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGlkID0gMTtcbiAgICBjb25zdCBuYW1lID0gJ+S4reWbvSc7XG4gICAgYXdhaXQgJC5VdGlscy5jYWxsKGAke25hbWV9IyR7aWR9IOa1t+WyuOi+ueeVjOe6v2AsIHRvcG9sb2d5LmVkZ2VDb2FzdGxpbmUuYmluZCh0b3BvbG9neSksIFtwZywgaWRdKTtcbiAgfSk7XG5cblxuICBhd2FpdCBwZy5yZWxlYXNlKCk7XG59KSgpOyJdfQ==