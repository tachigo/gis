'use strict';

var _modules = _interopRequireDefault(require("./../../modules"));

var _LibTopology = _interopRequireDefault(require("./LibTopology"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(async () => {
  const pg = await _modules.default.PgSQL.pool('localhost');
  await _modules.default.Utils.call(`外国 海岸边界线`, async () => {
    const list = await _LibTopology.default.getForeignList(pg);

    for await (const item of list) {
      const id = +item['id'];
      const name = item['name'];
      await _modules.default.Utils.call(`${name}#${id} 海岸边界线`, _LibTopology.default.dumpCoastlineAvgVertices.bind(_LibTopology.default), [pg, id]);
    }
  });
  await _modules.default.Utils.call(`中国 海岸边界线`, async () => {
    const id = 1;
    const name = '中国';
    await _modules.default.Utils.call(`${name}#${id} 海岸边界线`, _LibTopology.default.dumpCoastlineAvgVertices.bind(_LibTopology.default), [pg, id]);
  });
  await pg.release();
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YXNrcy8wNC10b3BvLWxpbmUvMDEtZHVtcC1jb2FzdGxpbmUuanMiXSwibmFtZXMiOlsicGciLCIkIiwiUGdTUUwiLCJwb29sIiwiVXRpbHMiLCJjYWxsIiwibGlzdCIsIkxpYlRvcG9sb2d5IiwiZ2V0Rm9yZWlnbkxpc3QiLCJpdGVtIiwiaWQiLCJuYW1lIiwiZHVtcENvYXN0bGluZUF2Z1ZlcnRpY2VzIiwiYmluZCIsInJlbGVhc2UiXSwibWFwcGluZ3MiOiJBQUFBOztBQUdBOztBQUVBOzs7O0FBR0EsQ0FBQyxZQUFZO0FBQ1gsUUFBTUEsRUFBRSxHQUFHLE1BQU1DLGlCQUFFQyxLQUFGLENBQVFDLElBQVIsQ0FBYSxXQUFiLENBQWpCO0FBRUEsUUFBTUYsaUJBQUVHLEtBQUYsQ0FBUUMsSUFBUixDQUFjLFVBQWQsRUFBeUIsWUFBWTtBQUN6QyxVQUFNQyxJQUFJLEdBQUcsTUFBTUMscUJBQVlDLGNBQVosQ0FBMkJSLEVBQTNCLENBQW5COztBQUNBLGVBQVcsTUFBTVMsSUFBakIsSUFBeUJILElBQXpCLEVBQStCO0FBQzdCLFlBQU1JLEVBQUUsR0FBRyxDQUFDRCxJQUFJLENBQUMsSUFBRCxDQUFoQjtBQUNBLFlBQU1FLElBQUksR0FBR0YsSUFBSSxDQUFDLE1BQUQsQ0FBakI7QUFDQSxZQUFNUixpQkFBRUcsS0FBRixDQUFRQyxJQUFSLENBQWMsR0FBRU0sSUFBSyxJQUFHRCxFQUFHLFFBQTNCLEVBQW9DSCxxQkFBWUssd0JBQVosQ0FBcUNDLElBQXJDLENBQTBDTixvQkFBMUMsQ0FBcEMsRUFBNEYsQ0FBQ1AsRUFBRCxFQUFLVSxFQUFMLENBQTVGLENBQU47QUFDRDtBQUNGLEdBUEssQ0FBTjtBQVNBLFFBQU1ULGlCQUFFRyxLQUFGLENBQVFDLElBQVIsQ0FBYyxVQUFkLEVBQXlCLFlBQVk7QUFDekMsVUFBTUssRUFBRSxHQUFHLENBQVg7QUFDQSxVQUFNQyxJQUFJLEdBQUcsSUFBYjtBQUNBLFVBQU1WLGlCQUFFRyxLQUFGLENBQVFDLElBQVIsQ0FBYyxHQUFFTSxJQUFLLElBQUdELEVBQUcsUUFBM0IsRUFBb0NILHFCQUFZSyx3QkFBWixDQUFxQ0MsSUFBckMsQ0FBMENOLG9CQUExQyxDQUFwQyxFQUE0RixDQUFDUCxFQUFELEVBQUtVLEVBQUwsQ0FBNUYsQ0FBTjtBQUNELEdBSkssQ0FBTjtBQU9BLFFBQU1WLEVBQUUsQ0FBQ2MsT0FBSCxFQUFOO0FBQ0QsQ0FwQkQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cblxuaW1wb3J0ICQgZnJvbSAnLi8uLi8uLi9tb2R1bGVzJztcblxuaW1wb3J0IExpYlRvcG9sb2d5IGZyb20gJy4vTGliVG9wb2xvZ3knO1xuXG5cbihhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHBnID0gYXdhaXQgJC5QZ1NRTC5wb29sKCdsb2NhbGhvc3QnKTtcblxuICBhd2FpdCAkLlV0aWxzLmNhbGwoYOWkluWbvSDmtbflsrjovrnnlYznur9gLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IGF3YWl0IExpYlRvcG9sb2d5LmdldEZvcmVpZ25MaXN0KHBnKTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgICAgY29uc3QgaWQgPSAraXRlbVsnaWQnXTtcbiAgICAgIGNvbnN0IG5hbWUgPSBpdGVtWyduYW1lJ107XG4gICAgICBhd2FpdCAkLlV0aWxzLmNhbGwoYCR7bmFtZX0jJHtpZH0g5rW35bK46L6555WM57q/YCwgTGliVG9wb2xvZ3kuZHVtcENvYXN0bGluZUF2Z1ZlcnRpY2VzLmJpbmQoTGliVG9wb2xvZ3kpLCBbcGcsIGlkXSk7XG4gICAgfVxuICB9KTtcblxuICBhd2FpdCAkLlV0aWxzLmNhbGwoYOS4reWbvSDmtbflsrjovrnnlYznur9gLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaWQgPSAxO1xuICAgIGNvbnN0IG5hbWUgPSAn5Lit5Zu9JztcbiAgICBhd2FpdCAkLlV0aWxzLmNhbGwoYCR7bmFtZX0jJHtpZH0g5rW35bK46L6555WM57q/YCwgTGliVG9wb2xvZ3kuZHVtcENvYXN0bGluZUF2Z1ZlcnRpY2VzLmJpbmQoTGliVG9wb2xvZ3kpLCBbcGcsIGlkXSk7XG4gIH0pO1xuXG5cbiAgYXdhaXQgcGcucmVsZWFzZSgpO1xufSkoKTsiXX0=