'use strict';

var _modules = _interopRequireDefault(require("./../../modules"));

var _LibLine = _interopRequireDefault(require("./LibLine"));

var _LibChina = _interopRequireDefault(require("./LibChina"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(async () => {
  const pg = await _modules.default.PgSQL.pool('localhost');
  await _modules.default.Utils.call(`准备中国数据`, _LibChina.default.prepareChinaBoundary.bind(_LibChina.default), [pg]);
  await _modules.default.Utils.call(`导入中国边界数据`, _LibChina.default.importChinaBoundary.bind(_LibChina.default), [pg]);
  await _modules.default.Utils.call(`修复中国边界数据`, _LibChina.default.fixChinaBoundary.bind(_LibChina.default), [pg]);
  const id = 1;
  const name = '中国';
  await _modules.default.Utils.call(`计算中国外圈陆地边界线`, _LibLine.default.calcOuterJuncture.bind(_LibLine.default), [pg, id, name]);
  await _modules.default.Utils.call(`计算中国内圈陆地边界线`, _LibLine.default.calcInnerJuncture.bind(_LibLine.default), [pg, id, name]);
  await _modules.default.Utils.call(`计算中国海岸边界线`, _LibLine.default.calcCoastline.bind(_LibLine.default), [pg, id, name]);
  await _modules.default.Utils.call(`导入中国十段线`, _LibChina.default.importChinaSouth10.bind(_LibChina.default), [pg]);
  await pg.release();
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YXNrcy8wMy1ib3VuZGFyeS8wNi1jaGluYS5qcyJdLCJuYW1lcyI6WyJwZyIsIiQiLCJQZ1NRTCIsInBvb2wiLCJVdGlscyIsImNhbGwiLCJMaWJDaGluYSIsInByZXBhcmVDaGluYUJvdW5kYXJ5IiwiYmluZCIsImltcG9ydENoaW5hQm91bmRhcnkiLCJmaXhDaGluYUJvdW5kYXJ5IiwiaWQiLCJuYW1lIiwiTGliTGluZSIsImNhbGNPdXRlckp1bmN0dXJlIiwiY2FsY0lubmVySnVuY3R1cmUiLCJjYWxjQ29hc3RsaW5lIiwiaW1wb3J0Q2hpbmFTb3V0aDEwIiwicmVsZWFzZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBR0E7O0FBRUE7O0FBQ0E7Ozs7QUFFQSxDQUFDLFlBQVk7QUFDWCxRQUFNQSxFQUFFLEdBQUcsTUFBTUMsaUJBQUVDLEtBQUYsQ0FBUUMsSUFBUixDQUFhLFdBQWIsQ0FBakI7QUFDQSxRQUFNRixpQkFBRUcsS0FBRixDQUFRQyxJQUFSLENBQWMsUUFBZCxFQUF1QkMsa0JBQVNDLG9CQUFULENBQThCQyxJQUE5QixDQUFtQ0YsaUJBQW5DLENBQXZCLEVBQXFFLENBQUNOLEVBQUQsQ0FBckUsQ0FBTjtBQUNBLFFBQU1DLGlCQUFFRyxLQUFGLENBQVFDLElBQVIsQ0FBYyxVQUFkLEVBQXlCQyxrQkFBU0csbUJBQVQsQ0FBNkJELElBQTdCLENBQWtDRixpQkFBbEMsQ0FBekIsRUFBc0UsQ0FBQ04sRUFBRCxDQUF0RSxDQUFOO0FBQ0EsUUFBTUMsaUJBQUVHLEtBQUYsQ0FBUUMsSUFBUixDQUFjLFVBQWQsRUFBeUJDLGtCQUFTSSxnQkFBVCxDQUEwQkYsSUFBMUIsQ0FBK0JGLGlCQUEvQixDQUF6QixFQUFtRSxDQUFDTixFQUFELENBQW5FLENBQU47QUFFQSxRQUFNVyxFQUFFLEdBQUcsQ0FBWDtBQUNBLFFBQU1DLElBQUksR0FBRyxJQUFiO0FBQ0EsUUFBTVgsaUJBQUVHLEtBQUYsQ0FBUUMsSUFBUixDQUFjLGFBQWQsRUFBNEJRLGlCQUFRQyxpQkFBUixDQUEwQk4sSUFBMUIsQ0FBK0JLLGdCQUEvQixDQUE1QixFQUFxRSxDQUFDYixFQUFELEVBQUtXLEVBQUwsRUFBU0MsSUFBVCxDQUFyRSxDQUFOO0FBQ0EsUUFBTVgsaUJBQUVHLEtBQUYsQ0FBUUMsSUFBUixDQUFjLGFBQWQsRUFBNEJRLGlCQUFRRSxpQkFBUixDQUEwQlAsSUFBMUIsQ0FBK0JLLGdCQUEvQixDQUE1QixFQUFxRSxDQUFDYixFQUFELEVBQUtXLEVBQUwsRUFBU0MsSUFBVCxDQUFyRSxDQUFOO0FBQ0EsUUFBTVgsaUJBQUVHLEtBQUYsQ0FBUUMsSUFBUixDQUFjLFdBQWQsRUFBMEJRLGlCQUFRRyxhQUFSLENBQXNCUixJQUF0QixDQUEyQkssZ0JBQTNCLENBQTFCLEVBQStELENBQUNiLEVBQUQsRUFBS1csRUFBTCxFQUFTQyxJQUFULENBQS9ELENBQU47QUFDQSxRQUFNWCxpQkFBRUcsS0FBRixDQUFRQyxJQUFSLENBQWMsU0FBZCxFQUF3QkMsa0JBQVNXLGtCQUFULENBQTRCVCxJQUE1QixDQUFpQ0YsaUJBQWpDLENBQXhCLEVBQW9FLENBQUNOLEVBQUQsQ0FBcEUsQ0FBTjtBQUVBLFFBQU1BLEVBQUUsQ0FBQ2tCLE9BQUgsRUFBTjtBQUNELENBZEQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cblxuaW1wb3J0ICQgZnJvbSAnLi8uLi8uLi9tb2R1bGVzJztcblxuaW1wb3J0IExpYkxpbmUgZnJvbSAnLi9MaWJMaW5lJztcbmltcG9ydCBMaWJDaGluYSBmcm9tICcuL0xpYkNoaW5hJztcblxuKGFzeW5jICgpID0+IHtcbiAgY29uc3QgcGcgPSBhd2FpdCAkLlBnU1FMLnBvb2woJ2xvY2FsaG9zdCcpO1xuICBhd2FpdCAkLlV0aWxzLmNhbGwoYOWHhuWkh+S4reWbveaVsOaNrmAsIExpYkNoaW5hLnByZXBhcmVDaGluYUJvdW5kYXJ5LmJpbmQoTGliQ2hpbmEpLCBbcGddKTtcbiAgYXdhaXQgJC5VdGlscy5jYWxsKGDlr7zlhaXkuK3lm73ovrnnlYzmlbDmja5gLCBMaWJDaGluYS5pbXBvcnRDaGluYUJvdW5kYXJ5LmJpbmQoTGliQ2hpbmEpLCBbcGddKTtcbiAgYXdhaXQgJC5VdGlscy5jYWxsKGDkv67lpI3kuK3lm73ovrnnlYzmlbDmja5gLCBMaWJDaGluYS5maXhDaGluYUJvdW5kYXJ5LmJpbmQoTGliQ2hpbmEpLCBbcGddKTtcblxuICBjb25zdCBpZCA9IDE7XG4gIGNvbnN0IG5hbWUgPSAn5Lit5Zu9JztcbiAgYXdhaXQgJC5VdGlscy5jYWxsKGDorqHnrpfkuK3lm73lpJblnIjpmYblnLDovrnnlYznur9gLCBMaWJMaW5lLmNhbGNPdXRlckp1bmN0dXJlLmJpbmQoTGliTGluZSksIFtwZywgaWQsIG5hbWVdKTtcbiAgYXdhaXQgJC5VdGlscy5jYWxsKGDorqHnrpfkuK3lm73lhoXlnIjpmYblnLDovrnnlYznur9gLCBMaWJMaW5lLmNhbGNJbm5lckp1bmN0dXJlLmJpbmQoTGliTGluZSksIFtwZywgaWQsIG5hbWVdKTtcbiAgYXdhaXQgJC5VdGlscy5jYWxsKGDorqHnrpfkuK3lm73mtbflsrjovrnnlYznur9gLCBMaWJMaW5lLmNhbGNDb2FzdGxpbmUuYmluZChMaWJMaW5lKSwgW3BnLCBpZCwgbmFtZV0pO1xuICBhd2FpdCAkLlV0aWxzLmNhbGwoYOWvvOWFpeS4reWbveWNgeautee6v2AsIExpYkNoaW5hLmltcG9ydENoaW5hU291dGgxMC5iaW5kKExpYkNoaW5hKSwgW3BnXSk7XG5cbiAgYXdhaXQgcGcucmVsZWFzZSgpO1xufSkoKTsiXX0=